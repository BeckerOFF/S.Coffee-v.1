(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51a35bd8"],{"204a":function(e,t,i){e.exports=i.p+"img/loading.4856b797.gif"},"3a81":function(e,t,i){},"4d12":function(e,t,i){"use strict";var n=i("3a81"),a=i.n(n);a.a},ac7d:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i("7618"),a={selector:"#message_textarea",area:null,init:function(e,t,i){i&&(this.selector=i),$(this.selector).emojioneArea("destroy");var a=this;$(this.selector).emojioneArea({container:e,attributes:{autocorrect:"on",autocapitalize:"on"},autocomplete:!1,hideSource:!1,useSprite:!1,search:!1,tones:!1,events:{ready:function(e,t){e.attr("data-type","input")},allready:function(){a.area=$(a.selector)[0].emojioneArea,t["ready"]()},focus:function(e,t){},emojibtn_click:function(e,i){void 0!==Object(n["a"])(t["keyup"])&&t["keyup"](e,i)},keyup:function(e,i){void 0!==Object(n["a"])(t["keyup"])&&t["keyup"](e,i)},keydown:function(e,i){void 0!==Object(n["a"])(t["keydown"])&&t["keydown"](e,i)}}})},enable:function(){this.area.enable(),this.focus()},disable:function(){this.area.disable()},update:function(){this.area.trigger("change",[this.area.editor])},getText:function(){return this.area.getText()},setText:function(e){return this.area.setText(e)},focus:function(){var e=$(".emojionearea-editor").get(0),t=window.getSelection(),i=document.createRange();e.innerHTML=" ",i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i),document.execCommand("delete",!1,null),this.area.setFocus()},blur:function(){this.area&&this.area.editor&&this.area.editor.blur()}};function s(){$(document.body).on("keydown",".emojionearea-editor",function(e){}),$(document.body).on("dragover drop",".emojionearea-editor",function(e){return e.preventDefault(),!1})}},e8c5:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",style:{marginTop:e.headerHeight+"px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isTabsShow,expression:"isTabsShow"}],staticClass:"container tabs_type_chats",staticStyle:{height:"30px",background:"#4d657f","padding-left":"0","padding-right":"0"}},[e._m(0),e._m(1)]),n("div",{staticClass:"container chat_container"},[n("div",{staticClass:"hidden-xs hidden-sm hidden-md col-sm-1 col-md-2 col-lg-3"}),n("div",{staticClass:"chat-box col-xs-12 col-sm-12 col-md-8 col-lg-6",style:e.fullHeightBlock},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirstLoaded&&!e.socketConnected&&!e.errorInternet&&!e.isAuth,expression:"isFirstLoaded && !socketConnected && !errorInternet && !isAuth"}],staticClass:"mask_error",attrs:{id:"mask_bad"}},[e._m(2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirstLoaded&&e.errorInternet,expression:"isFirstLoaded && errorInternet"}],staticClass:"mask_error",attrs:{id:"mask_bad_inet"}},[e._m(3)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirstLoaded&&e.captchaRequired&&e.socketConnected&&e.isAuth&&!e.errorInternet,expression:"isFirstLoaded && captchaRequired && socketConnected && isAuth && !errorInternet"}],staticClass:"mask_error",attrs:{id:"mask_cap"}},[n("app-recaptcha")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isHeaderShow,expression:"isHeaderShow"}],staticClass:"header_chat",class:{adult_topic:e.isSelectAdultTopic}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDialogOrSearchScreen,expression:"isDialogOrSearchScreen"}],staticClass:"st_chatbox"},[e._m(4),n("div",{staticClass:"right_block_hc main_chat_but"},[e.isAnonDialogScreen?n("button",{staticClass:"report_spam_btn",class:{disabled:!e.isOpenAnonDialog},on:{click:e.reportSpamClick}}):e._e(),e.isAnonDialogScreen?n("button",{staticClass:"btn btn-md btn-my1",class:{disabled:!e.isOpenAnonDialog},on:{click:e.breakDialogClick}},[e._v("Отключиться")]):e._e(),e.isSearchingScreen?n("button",{staticClass:"btn btn-md btn-my1",on:{click:e.outSearchClick}},[e._v("Остановить")]):e._e()]),n("div",{staticClass:"clearfix"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMainScreen,expression:"isMainScreen"}],staticClass:"st_chatbox no_select_text"},[e._m(5),n("div",{staticClass:"right_block_hc no_select_text"},[e._v("\n            Начните чат\n          ")]),n("div",{staticClass:"clearfix"})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFirstLoaded&&!e.socketConnected&&!e.errorInternet,expression:"!isFirstLoaded && !socketConnected && !errorInternet"}],staticClass:"row step_chatbox load_init_step no_select_text"},[n("img",{attrs:{height:"44",align:"absmiddle",src:i("204a")}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.socketConnected,expression:"!socketConnected"}]},[e._v("Подключение...")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.socketConnected&&!e.isAuth||!e.additionalLoad,expression:"socketConnected && !isAuth || !additionalLoad"}]},[e._v("Загрузка...")])]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isFirstLoaded&&e.additionalLoad?n("router-view"):e._e()],1),n("app-bottom-block")],1),n("app-right-block")],1),n("div",{attrs:{id:"jquery_jplayer"}})])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{float:"left","line-height":"32px","font-size":"16px",color:"black",width:"50%",height:"100%","text-align":"center","border-radius":"0px 4px 0px 0px",background:"white"},attrs:{id:"tabs_t_chats"}},[i("span",{staticClass:"glyphicon glyphicon-pencil",staticStyle:{"font-size":"12px"}}),e._v(" Текстовый чат")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{cursor:"pointer",float:"right","line-height":"27px",height:"100%","font-size":"16px",color:"white",width:"50%","text-align":"center"},attrs:{onclick:"window.location.href='/audiochat';"}},[i("span",{staticClass:"glyphicon glyphicon-headphones",staticStyle:{"font-size":"14px"}}),e._v(" Голосовой чат")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{height:"44",align:"absmiddle",src:i("204a")}}),n("span",{attrs:{rel:"nofollow no_select_text"}},[e._v("Разрыв соединения. Восстанавливаем...")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{height:"44",align:"absmiddle",src:i("204a")}}),n("span",{attrs:{rel:"nofollow no_select_text"}},[e._v("У вас проблемы с интернетом. Ожидаем...")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"left_block_hc no_select_text"},[i("span",{staticClass:"weight_txt"},[e._v("Анонимный чат")]),e._v(" с "),i("span",{staticClass:"who_chat"},[e._v("Nekto")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"left_block_hc"},[i("h1",{staticClass:"no_h1"},[i("span",{staticClass:"weight_txt"},[e._v("Анонимный чат")]),e._v(" Nekto.me")])])}],s=(i("7f7f"),i("cebc")),o=(i("c5f6"),i("2f62")),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hidden-xs hidden-sm col-sm-1 col-md-4 col-lg-3"},[i("div",{attrs:{id:"MTU0ODQ3NzY0Nwbb"}}),e._m(0),i("br"),i("center",[e._v("© 2011-2020 "),i("a",{attrs:{href:"//nekto.me/",target:"_blank",id:"devel"}},[e._v("NektoMe")])])],1)},c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"adv-block"},[i("div",{attrs:{id:"yandex_rtb_R-A-280493-5"}})])}],d=i("c9dc"),h={name:"RightBlock",created:function(){var e=this,t=this;window.addEventListener("resize",function(){t.renderAdv()}),this.$store.subscribe(function(t){switch(t.type){case"user/socket_auth.successToken":e.renderAdv();break}})},methods:{renderAdv:function(){this.$store.state.user.tokenModel&&this.$store.state.user.tokenModel.id>0&&Object(d["a"])()}}},l=h,u=i("2877"),f=Object(u["a"])(l,r,c,!1,null,null,null),p=f.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"advBlock"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isDialogOrSearchScreen,expression:"isDialogOrSearchScreen"}],staticClass:"advMobileBlock",style:e.offsetTop},[e._m(0)])])},m=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"visible-xs visible-sm minusheiheight",attrs:{id:"ya_adv_280493-3"}},[i("div",{staticClass:"yandex-adaptive",attrs:{id:"yandex_rtb_R-A-280493-3"}})])}],g={data:function(){return{size:50,startPosition:0,windowHeight:0}},sockets:{"auth.successToken":function(e){console.log(e)}},mounted:function(){var e=this;this.startPosition=this.$refs["advBlock"].getBoundingClientRect().top,this.windowHeight=window.innerHeight,window.addEventListener("resize",function(){e.windowHeight=window.innerHeight}),window.addEventListener("load",function(){e.routeInit(e.$route)}),this.$store.subscribe(function(t){switch(t.type){case"user/socket_auth.successToken":e.routeInit(e.$route);break}})},computed:{isDialogOrSearchScreen:function(){return this.isAnonDialogScreen||this.isSearchingScreen},isAnonDialogScreen:function(){return"Anon Dialog"===this.$route.name},isSearchingScreen:function(){return"Searching"===this.$route.name},isMainScreen:function(){return!this.isDialogOrSearchScreen},offsetTop:function(){return this.isSearchingScreen?{marginTop:"-"+this.size+"px"}:{marginTop:"0"}}},methods:{routeInit:function(e){!this.$store.state.user.tokenModel||this.$store.state.user.tokenModel.id<0||("Searching"===e.name||"Anon Dialog"===e.name?this.$yandexTools.renderMobile():this.$yandexTools.destroyAdv(this.$yandexTools.renderBoxMobile))}},watch:{$route:function(e,t){this.routeInit(e)}}},w=g,_=Object(u["a"])(w,v,m,!1,null,null,null),b=_.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.siteKey?i("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:e.siteKey},on:{verify:e.onVerify,expired:e.onExpired}}):e._e()},y=[],S=function(){var e=!1,t=[],i=function(i){if(!e){e=!0;for(var n=0,a=t.length;n<a;n++)t[n](i)}},n=function(i){e?i():t.push(i)},a={resolved:function(){return e},resolve:i,promise:{then:n}};return a};function x(){var e=S();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,t,i){this.wait().then(function(){i(window.grecaptcha.render(e,t))})},reset:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(e)}))},execute:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(e)}))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&window.grecaptcha.hasOwnProperty("render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var $=x();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=$.notify);var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},A={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String}},mounted:function(){var e=this;$.checkRecaptchaLoad();var t=C({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired}),i=this.$slots.default?this.$el.children[0]:this.$el;$.render(i,t,function(t){e.$widgetId=t,e.$emit("render",t)})},methods:{reset:function(){$.reset(this.$widgetId)},execute:function(){$.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")}},render:function(e){return e("div",{},this.$slots.default)}},D=A,O={name:"RecaptchaModule",components:{VueRecaptcha:D},data:function(){return{siteKey:null}},methods:{onVerify:function(e){this.$socketActions.recaptchaSolution(e)},onExpired:function(){this.$refs.recaptcha.reset()}},sockets:{error_600:function(e){this.siteKey=e.additional.publicKey,this.$refs.hasOwnProperty("recaptcha")&&this.$refs.recaptcha.reset(),this.$ym.goal("captchaVisible")},"captcha.verify":function(e){e.solution?this.$ym.goal("captchaSuccess"):this.$refs.recaptcha.reset()}}},H=O,T=Object(u["a"])(H,k,y,!1,null,null,null),L=T.exports,j=i("ac7d"),E={name:"DefaultContainer",data:function(){return{windowHeight:0,windowWidth:0,headerHeight:0}},mounted:function(){var e=this;this.headerHeight=document.querySelector(".navbar").clientHeight,this.$nextTick(function(){e.windowHeight=window.innerHeight,e.windowWidth=window.innerWidth,window.addEventListener("resize",function(){e.windowHeight=window.innerHeight,e.windowWidth=window.innerWidth,e.headerHeight=document.querySelector(".navbar").clientHeight}),Object(j["a"])()});var t=this,i=function(){if(t.isAnonDialogScreen&&t.anonDialog){var e=Number(t.anonDialog.createTime)+120,i=Number((new Date).getTime()/1e3);if(e>i)return alert("В целях защиты от спама, функция копирования отключена, ожидайте ещё: "+Math.ceil(e-i)+" сек."),!1}return!0};document.body.oncopy=i,document.body.oncut=i},beforeMount:function(){var e=this;window.addEventListener("beforeunload",function(t){if(e.anonDialog&&!e.anonDialog.close){var i="Если вы покинете страницу чата, это повлечет за собой завершение беседы.";return t.preventDefault(),t.returnValue=i,i}})},components:{AppRightBlock:p,AppBottomBlock:b,AppRecaptcha:L},methods:{outSearchClick:function(){this.$bus.$emit("outSearchClick")},breakDialogClick:function(){this.$bus.$emit("breakDialogClick")},reportSpamClick:function(){this.$bus.$emit("reportSpamClick")}},computed:Object(s["a"])({tabsHeight:function(){return this.isTabsShow?31:0},fullHeightBlock:function(){return{minHeight:this.windowHeight-this.headerHeight-this.tabsHeight+"px"}},isTabsShow:function(){return this.isMainScreen&&this.windowWidth<=860},isHeaderShow:function(){return this.isAnonDialogScreen&&this.windowWidth<=860?this.isOpenAnonDialog:!(this.isMainScreen&&this.windowWidth<=860)},isDialogOrSearchScreen:function(){return this.isAnonDialogScreen||this.isSearchingScreen},isAnonDialogScreen:function(){return"Anon Dialog"===this.$route.name},isSearchingScreen:function(){return"Searching"===this.$route.name},isMainScreen:function(){return!this.isDialogOrSearchScreen},isOpenAnonDialog:function(){return this.anonDialog&&!this.anonDialog.close},isSelectAdultTopic:function(){return"adult"===this.searchParams.topic}},Object(o["c"])("system",["errorInternet","socketConnected","captchaRequired","isAuth","isFirstLoaded","additionalLoad"]),Object(o["c"])("user",["searchParams"]),Object(o["c"])("chat",["anonDialog"]))},M=E,N=(i("4d12"),Object(u["a"])(M,n,a,!1,null,null,null));t["default"]=N.exports}}]);
//# sourceMappingURL=chunk-51a35bd8.f8013e01.js.map